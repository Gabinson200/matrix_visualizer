:root{
  /* Dark surface + typography */
  --bg:#0b0f19;          /* page background */
  --card:#121726;        /* panels/cards */
  --text:#e6e6ea;        /* primary text */
  --muted:#9aa0b4;       /* secondary text */
  --border:#1f2435;      /* borders/lines */

  /* Accents (purple family) */
  --accent:#8b5cf6;      /* violet-500 */
  --accent-600:#7c3aed;  /* violet-600 */
  --accent-700:#6d28d9;  /* violet-700 */

  /* Data colors for original/transformed series */
  --orig:#a78bfa;        /* lavender/violet-400 */
  --trans:#e879f9;       /* fuchsia-400 */

  /* Axis/Grid */
  --grid:#1f2435;
  --axis:#3b4257;
}

*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Helvetica,Arial,sans-serif;color:var(--text);background:var(--bg)}
h1{font-size:1.4rem;margin:0}
h2{font-size:1rem;margin:.25rem 0 .75rem 0}

.page{max-width:1200px;margin:0 auto;padding:24px;display:grid;grid-template-columns:1fr;gap:24px}
@media(min-width:1200px){.page{grid-template-columns:1fr 1fr}}

.left,.right{display:flex;flex-direction:column;gap:24px}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  box-shadow:0 4px 18px rgba(0,0,0,.25);
}
.sticky{position:sticky;top:16px}

.header{display:flex;justify-content:space-between;align-items:center}
.mode-toggle{display:flex;gap:8px}
.mode-toggle button{
  border:1px solid var(--border);
  background:#0f1422;
  color:var(--muted);
  border-radius:12px;
  padding:8px 12px;cursor:pointer;
  transition:all .15s ease;
}
.mode-toggle button:hover{border-color:var(--axis); color:var(--text)}
.mode-toggle button.selected{
  background:linear-gradient(180deg, var(--accent) 0%, var(--accent-600) 100%);
  color:#fff; border-color:transparent;
}

.equation-row{display:grid;grid-template-columns:1fr auto 1fr;gap:12px;align-items:stretch}
.editor{border:1px solid var(--border);border-radius:12px;padding:12px;background:#0f1422}
.editor-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
textarea{
  width:100%;height:160px;border:1px solid var(--border);background:#0b0f19;
  color:var(--text); border-radius:10px;padding:8px;
  font-family:ui-monospace,Menlo,Consolas,monospace;font-size:.9rem;resize:vertical
}
.hint{color:var(--muted);font-size:.8rem;margin:.35rem 0 0}
.inline{display:inline-flex;gap:8px;align-items:center;font-size:.85rem;color:var(--muted);margin-top:6px}
.inline input[type=checkbox]{accent-color:var(--accent)}
.times{display:grid;place-items:center;font-size:2rem;user-select:none;color:var(--accent)}

.presets-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.preset{
  border:1px solid var(--border);border-radius:12px;padding:12px;background:#0f1422;
  display:grid;grid-template-rows:auto 1fr auto;gap:8px;
}
.preset-title{font-weight:600;margin-bottom:2px;color:#d7cffd}
.row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.row.between{justify-content:space-between}
label{font-size:.9rem;color:var(--text)}
input[type=number]{width:88px;background:#0b0f19;border:1px solid var(--border);color:var(--text);border-radius:8px;padding:6px}
input[type=range]{width:100%}
select{background:#0b0f19;border:1px solid var(--border);color:var(--text);border-radius:8px;padding:6px}

.link{background:none;border:none;color:var(--orig);cursor:pointer;text-decoration:underline}
.primary{
  background:linear-gradient(180deg, var(--accent) 0%, var(--accent-700) 100%);
  color:#fff;border:none;border-radius:10px;padding:8px 12px;cursor:pointer;transition:transform .08s ease
}
.primary:hover{transform:translateY(-1px)}
.preset .actions{display:flex;justify-content:flex-end}
.preset .primary{min-width:160px}

#poly-opts{margin-top:10px}
.error{color:#fecaca;background:#4c1d1d;border:1px solid #7f1d1d;padding:8px;border-radius:8px}
.hidden{display:none !important}

.two{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.code{
  background:#0b0f19;border:1px solid var(--border);
  border-radius:10px;padding:8px;min-height:80px;white-space:pre-wrap;
  font-family:ui-monospace,Menlo,Consolas,monospace;color:#cbd5e1
}

.panel{
  width:100%;height:420px;background:#0b0f19;border:1px solid var(--border);border-radius:12px
}

/* SVG styles â€“ now use purple accents */
svg line.grid{stroke:var(--grid);stroke-width:1}
svg line.axis{stroke:var(--axis);stroke-width:1.5}
svg path.orig{fill:none;stroke:var(--orig);stroke-width:2}
svg path.trans{fill:none;stroke:var(--trans);stroke-width:2.25}
svg circle.orig{fill:var(--orig)}
svg rect.trans{fill:var(--trans)}

/* Little legend text color */
.legend,.subtle{color:var(--muted)}
